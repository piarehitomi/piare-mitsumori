<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>æ ªå¼ä¼šç¤¾ãƒ”ã‚¢ãƒ¬ã‚­ã‚¿ã‚¬ãƒ¯ è¦‹ç©æ›¸ä½œæˆï¼ˆå°åˆ·åŸºæº–ç‰ˆ v7.3.1R PrintProï¼‰</title>

<!-- ãƒ•ã‚©ãƒ³ãƒˆï¼ˆã‚ªãƒ•ãƒ©ã‚¤ãƒ³ã§ã‚‚ä»£æ›¿ãƒ•ã‚©ãƒ³ãƒˆã§è¡¨ç¤ºå¯èƒ½ï¼‰ -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=BIZ+UDPGothic:wght@400;700&display=swap" rel="stylesheet">

<style>
  :root{
    --ink:#111;
    --muted:#666;
    --line:#ddd;
  }
  *{box-sizing:border-box;}
  html,body{height:100%;}
  body{
    font-family:"BIZ UDPGothic", system-ui, -apple-system, "Hiragino Kaku Gothic ProN","Yu Gothic", Meiryo, sans-serif;
    color:var(--ink);
    margin:0; background:#fff;
  }
  .sheet{
    width:210mm; min-height:297mm; padding:14mm 16mm;
    margin:0 auto;
  }
  header{
    display:flex; justify-content:space-between; align-items:flex-start;
    gap:12mm; margin-bottom:8mm;
  }
  /* å·¦ï¼å®›åãƒ–ãƒ­ãƒƒã‚¯ï¼ˆä½æ‰€â†’æ°åæ§˜â†’TELï¼‰ */
  .to-block{
    flex:1 1 auto;
  }
  .to-label{font-size:12px; color:var(--muted); margin-bottom:2mm;}
  .to-address{
    font-size:12.5px; line-height:1.5; white-space:pre-wrap; margin-bottom:2mm;
  }
  .to-name-line{
    display:flex; align-items:baseline; gap:3mm; margin-bottom:2mm;
  }
  .to-name{
    font-weight:700; font-size:19px; letter-spacing:0.02em;
  }
  .sama{font-size:16px; font-weight:700;}
  .to-tel{font-size:12.5px; color:#222;}

  /* å³ï¼ä¼šç¤¾æƒ…å ±ï¼ˆå³å¯„ã›ï¼ãƒ­ã‚´ ä¸Šï¼QR ä¸‹ï¼‰ */
  .from-block{
    flex:0 0 72mm; text-align:right;
  }
  .logo{
    width:26mm; height:12mm; border:1px solid var(--line);
    display:inline-flex; align-items:center; justify-content:center;
    font-size:11px; color:var(--muted); margin:0 0 3mm auto;
  }
  .company{
    font-size:12px; line-height:1.5; white-space:pre-line; margin-bottom:4mm;
  }
  .qr{
    width:26mm; height:26mm; border:1px solid var(--line);
    display:inline-flex; align-items:center; justify-content:center;
    font-size:11px; color:var(--muted); margin-left:auto;
  }

  /* ã‚¿ã‚¤ãƒˆãƒ« */
  .title{
    text-align:left; font-size:22px; font-weight:700;
    margin:6mm 0 4mm 0; padding-bottom:2mm; border-bottom:2px solid var(--ink);
    letter-spacing:0.02em;
  }

  /* æ˜ç´°ãƒ†ãƒ¼ãƒ–ãƒ« */
  table{
    width:100%; border-collapse:collapse;
  }
  th, td{
    border:1px solid var(--line); padding:6px 8px; vertical-align:middle;
    font-size:12.5px;
  }
  th{background:#fafafa; text-align:center; font-weight:700;}
  td.right{text-align:right;}
  td.center{text-align:center;}
  .unit-badge{font-size:11px; color:var(--muted); margin-left:2px;}
  .section-title{
    font-weight:700; margin:8mm 0 2mm; font-size:14px;
  }

  /* å‚™è€ƒï¼ˆå°åˆ·æ™‚ã¯ãƒ†ãƒ³ãƒ—ãƒ¬æ–‡ã‚’å‡ºã•ãªã„é‹ç”¨ï¼ç©ºæ¬„ï¼‰ */
  .notes{
    min-height:24mm; border:1px solid var(--line); padding:6px 8px; font-size:12.5px;
  }

  /* æ“ä½œç”¨UIï¼ˆå°åˆ·æ™‚ã¯éè¡¨ç¤ºï¼‰ */
  .controls{
    position:sticky; top:0; background:#fff; border-bottom:1px solid #eee;
    padding:10px 12px; display:flex; gap:8px; align-items:center; z-index:5;
  }
  .controls button{
    font:inherit; padding:8px 12px; border:1px solid #ccc; background:#fff; cursor:pointer;
  }
  .controls .pill{
    border-radius:999px; padding:6px 12px; font-size:12.5px;
    background:#f6f6f6; border:1px solid #e5e5e5;
  }
  .grid-2{display:grid; grid-template-columns:1fr 1fr; gap:6px;}
  input[type="text"], input[type="number"]{
    width:100%; font:inherit; padding:6px 8px; border:1px solid #ccc; background:#fff;
  }
  input[type="number"]{text-align:right;}

  /* å°åˆ·è¨­å®š */
  @page{ size:A4; margin:12mm; }
  @media print{
    .controls{display:none !important;}
    body{background:#fff;}
    .sheet{padding:0; width:auto; min-height:auto;}
    input, .pill, button{appearance:none; border:none; padding:0; margin:0;}
    input{outline:none;}
    .logo, .qr{border-color:#bbb;}
  }
</style>
</head>
<body>

<!-- ç”»é¢ç”¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ï¼ˆå°åˆ·æ™‚ã¯éè¡¨ç¤ºï¼‰ -->
<div class="controls" role="toolbar" aria-label="æ“ä½œ">
  <button onclick="window.print()">ğŸ–¨ å°åˆ·</button>
  <span class="pill">æ¨™æº–å–ä»˜å·¥äº‹ å°æ•°ï¼š
    <button onclick="chgStd(-1)">ï¼</button>
    <strong id="stdCount" style="display:inline-block; min-width:2ch; text-align:center;">1</strong>
    <button onclick="chgStd(1)">ï¼‹</button>
  </span>
  <span class="pill">åˆè¨ˆï¼ˆç¨è¾¼ï¼‰ï¼š<strong id="grandTotal">Â¥0</strong></span>
</div>

<div class="sheet">

  <header>
    <!-- å·¦ï¼šå®›å -->
    <section class="to-block">
      <div class="to-label">ãŠå®¢æ§˜</div>
      <div>
        <div class="to-address">
          <input id="toAddress" type="text" placeholder="ã€’â€ƒä½æ‰€ã‚’å…¥åŠ›" />
        </div>
        <div class="to-name-line">
          <input id="toName" class="to-name" type="text" placeholder="ãŠåå‰" />
          <span class="sama">æ§˜</span>
        </div>
        <div class="to-tel">
          TELï¼š<input id="toTel" type="text" placeholder="ãŠé›»è©±ç•ªå·" style="width:50%;" />
        </div>
      </div>
    </section>

    <!-- å³ï¼šä¼šç¤¾æƒ…å ±ï¼ˆãƒ­ã‚´ä¸Šï¼QRä¸‹ï¼å³å¯„ã›ï¼‰ -->
    <section class="from-block">
      <div class="logo" id="logoBox">LOGO</div>
      <div class="company">
æ ªå¼ä¼šç¤¾ãƒ”ã‚¢ãƒ¬ã‚­ã‚¿ã‚¬ãƒ¯
é•·æµœå¸‚æ›½æ ¹ç”º350
TELï¼š<span contenteditable="true">000-000-0000</span>
MAILï¼š<span contenteditable="true">info@example.com</span>
      </div>
      <div class="qr" id="qrBox">LINE QR</div>
    </section>
  </header>

  <div class="title">ãŠè¦‹ç©æ›¸</div>

  <!-- è¦‹ç©æ˜ç´° -->
  <div class="section-title">è¦‹ç©æ˜ç´°ï¼ˆã‚¨ã‚¢ã‚³ãƒ³æœ¬ä½“ ã»ã‹ï¼‰</div>
  <table id="itemsTable" aria-label="è¦‹ç©æ˜ç´°">
    <thead>
      <tr>
        <th style="width:42%;">å“åãƒ»å‹ç•ª</th>
        <th style="width:10%;">æ•°é‡<span class="unit-badge">ï¼ˆå°ï¼‰</span></th>
        <th style="width:16%;">å˜ä¾¡ï¼ˆç¨è¾¼ï¼‰</th>
        <th style="width:16%;">é‡‘é¡ï¼ˆç¨è¾¼ï¼‰</th>
        <th style="width:16%;">å‚™è€ƒ</th>
      </tr>
    </thead>
    <tbody>
      <!-- åˆæœŸç©ºè¡Œã‚’5è¡Œç”¨æ„ï¼ˆå¿…è¦ã«å¿œã˜ã¦è¡Œè¿½åŠ ã¯ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰å…¥åŠ›ã§OKï¼‰ -->
      <tr>
        <td><input type="text" placeholder="ä¾‹ï¼‰ãƒ«ãƒ¼ãƒ ã‚¨ã‚¢ã‚³ãƒ³ CS-XXXX" oninput="recalc()"></td>
        <td class="center"><input type="number" min="0" step="1" value="0" oninput="recalc()"></td>
        <td class="right"><input type="number" min="0" step="100" value="0" oninput="recalc()"></td>
        <td class="right"><span class="rowTotal">Â¥0</span></td>
        <td><input type="text" placeholder=""></td>
      </tr>
      <tr>
        <td><input type="text" oninput="recalc()"></td>
        <td class="center"><input type="number" min="0" step="1" value="0" oninput="recalc()"></td>
        <td class="right"><input type="number" min="0" step="100" value="0" oninput="recalc()"></td>
        <td class="right"><span class="rowTotal">Â¥0</span></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text" oninput="recalc()"></td>
        <td class="center"><input type="number" min="0" step="1" value="0" oninput="recalc()"></td>
        <td class="right"><input type="number" min="0" step="100" value="0" oninput="recalc()"></td>
        <td class="right"><span class="rowTotal">Â¥0</span></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text" oninput="recalc()"></td>
        <td class="center"><input type="number" min="0" step="1" value="0" oninput="recalc()"></td>
        <td class="right"><input type="number" min="0" step="100" value="0" oninput="recalc()"></td>
        <td class="right"><span class="rowTotal">Â¥0</span></td>
        <td><input type="text"></td>
      </tr>
      <tr>
        <td><input type="text" oninput="recalc()"></td>
        <td class="center"><input type="number" min="0" step="1" value="0" oninput="recalc()"></td>
        <td class="right"><input type="number" min="0" step="100" value="0" oninput="recalc()"></td>
        <td class="right"><span class="rowTotal">Â¥0</span></td>
        <td><input type="text"></td>
      </tr>
    </tbody>
  </table>

  <!-- æ¨™æº–å–ä»˜å·¥äº‹è²»ï¼ˆ22,000å††ï¼å°ãƒ»ç¨è¾¼ï½œå°æ•°ã¯å¢—ã‚„ã›ã‚‹ï¼‰ -->
  <div class="section-title">æ¨™æº–å–ä»˜å·¥äº‹è²»</div>
  <table aria-label="æ¨™æº–å–ä»˜å·¥äº‹è²»">
    <thead>
      <tr>
        <th>å†…å®¹</th>
        <th style="width:10%;">å°æ•°<span class="unit-badge">ï¼ˆå°ï¼‰</span></th>
        <th style="width:16%;">å˜ä¾¡ï¼ˆç¨è¾¼ï¼‰</th>
        <th style="width:16%;">é‡‘é¡ï¼ˆç¨è¾¼ï¼‰</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>æ¨™æº–å–ä»˜å·¥äº‹è²»</td>
        <td class="center"><input id="stdQty" type="number" min="0" step="1" value="1" oninput="recalc()"></td>
        <td class="right">Â¥<span id="stdUnit">22,000</span></td>
        <td class="right">Â¥<span id="stdTotal">22,000</span></td>
      </tr>
    </tbody>
  </table>

  <!-- è¿½åŠ å·¥äº‹ï¼ˆä»Šå›ã¯ç©ºæ¬„ä¿æŒã€‚ç¤¾é•·åˆæµå¾Œã«å®Ÿè£…ï¼‰ -->
  <div class="section-title">è¿½åŠ å·¥äº‹ï¼ˆç¤¾é•·ç¢ºèªå¾Œã«è¿½åŠ ï¼‰</div>
  <table aria-label="è¿½åŠ å·¥äº‹">
    <thead>
      <tr>
        <th>é …ç›®</th>
        <th style="width:10%;">æ•°é‡</th>
        <th style="width:16%;">å˜ä¾¡ï¼ˆç¨è¾¼ï¼‰</th>
        <th style="width:16%;">é‡‘é¡ï¼ˆç¨è¾¼ï¼‰</th>
        <th style="width:16%;">å‚™è€ƒ</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td colspan="5" style="color:var(--muted); text-align:center; padding:10mm 0;">
          ï¼ˆå¾Œæ—¥ã€ç¤¾é•·ã®æŒ‡ç¤ºã§é …ç›®ã‚’è¿½åŠ ã—ã¾ã™ï¼‰
        </td>
      </tr>
    </tbody>
  </table>

  <!-- å°è¨ˆãƒ»åˆè¨ˆ -->
  <div class="section-title">åˆè¨ˆ</div>
  <table aria-label="åˆè¨ˆ">
    <tbody>
      <tr>
        <th style="width:68%;">å°è¨ˆï¼ˆç¨è¾¼ï¼‰</th>
        <td class="right" style="width:32%;">Â¥<span id="subTotal">0</span></td>
      </tr>
      <tr>
        <th>åˆè¨ˆï¼ˆç¨è¾¼ï¼‰</th>
        <td class="right"><strong style="font-size:15px;">Â¥<span id="grandTotalBottom">0</span></strong></td>
      </tr>
    </tbody>
  </table>

  <!-- å‚™è€ƒï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ã¯å°åˆ·ã—ãªã„ï¼ç©ºæ¬„ã§é‹ç”¨ï¼‰ -->
  <div class="section-title">å‚™è€ƒ</div>
  <div class="notes" id="notes" contenteditable="true" aria-label="å‚™è€ƒãƒ¡ãƒ¢ï¼ˆç©ºæ¬„å°åˆ·ï¼‰"></div>

</div>

<script>
  /* é‡‘é¡ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ */
  const fmt = (n)=> n.toLocaleString('ja-JP');

  function recalc(){
    let itemsTable = document.getElementById('itemsTable').tBodies[0];
    let sub = 0;

    for(let r of itemsTable.rows){
      const qty = Number(r.cells[1].querySelector('input').value || 0);
      const price = Number(r.cells[2].querySelector('input').value || 0);
      // å˜ä½ã¯å°å›ºå®šï¼ˆè¡¨è¨˜ã®ã¿ï¼‰ã€‚è¨ˆç®—ã¯ qty * price
      const rowTotal = qty * price;
      r.cells[3].querySelector('.rowTotal').textContent = 'Â¥' + fmt(rowTotal);
      sub += rowTotal;
    }

    // æ¨™æº–å–ä»˜å·¥äº‹
    const unit = 22000; // ç¨è¾¼å›ºå®š
    const q = Math.max(0, Number(document.getElementById('stdQty').value || 0));
    const stdTotal = unit * q;
    document.getElementById('stdUnit').textContent = fmt(unit);
    document.getElementById('stdTotal').textContent = fmt(stdTotal);

    // å°è¨ˆï¼æ˜ç´°åˆè¨ˆï¼‹æ¨™æº–å·¥äº‹
    const subtotal = sub + stdTotal;
    document.getElementById('subTotal').textContent = fmt(subtotal);

    // åˆè¨ˆï¼ˆç¨è¾¼ï¼‰ï¼å°è¨ˆï¼ˆä»Šå›ã¯ç¨è¾¼é‹ç”¨ã€‚æ¶ˆè²»ç¨åˆ¥è¨ˆç®—ã¯ä¸è¦ï¼‰
    document.getElementById('grandTotal').textContent = 'Â¥' + fmt(subtotal);
    document.getElementById('grandTotalBottom').textContent = fmt(subtotal);
  }

  function chgStd(delta){
    const el = document.getElementById('stdQty');
    let v = Number(el.value || 0) + delta;
    if(v < 0) v = 0;
    el.value = v;
    document.getElementById('stdCount').textContent = v;
    recalc();
  }

  // åˆæœŸåŒ–
  window.addEventListener('DOMContentLoaded', ()=>{
    recalc();
    // å°æ•°è¡¨ç¤ºï¼ˆä¸Šéƒ¨ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã¨åŒæœŸï¼‰
    document.getElementById('stdCount').textContent = document.getElementById('stdQty').value;
  });

  // æ°åå…¥åŠ›æ¬„ã«åˆã‚ã›ã¦ã€Œæ§˜ã€ã‚’ã™ãå³éš£ã«å›ºå®šè¡¨ç¤ºï¼ˆCSSã§å¯¾å¿œæ¸ˆï¼JSä¸è¦ï¼‰
</script>

</body>
</html>
